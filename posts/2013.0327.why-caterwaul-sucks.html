<!doctype html>
<html>
<head>
<meta charset='utf-8'/>
<style>
/* Blog stylesheet | Spencer Tipping*/
/* Licensed under the terms of the MIT source code license*/

body {font-family: 'Sans', sans-serif; font-size: 9pt; line-height: 1.44em; margin: 0 auto; max-width: 80ex}

a {color: #35a; text-decoration: none}
a:hover {text-decoration: underline}
a:visited {color: #89a}

#header {position: absolute; right: 0; top: 0; padding: 10px; text-align: right; font-size: 8pt}
#header h3 {font-size: 8pt; font-weight: normal}
#header ul {list-style-type: none}

#contents {padding: 10px 0}
#contents h1, #contents h2, #contents h3, #contents h4 {font-weight: normal; font-size: 14pt; text-transform: lowercase; margin: 0; padding: 10px 0}
#contents h2 {font-size: 10pt; color: #000; text-transform: uppercase}
#contents h3 {font-size: 10pt; color: #444; text-transform: uppercase} #contents h3:before {content: '> '; color: #888}
#contents h4 {font-size: 10pt; color: #888; text-transform: uppercase} #contents h4:before {content: '> '; color: #ccc}

#contents em {color: #444}

#contents .date      {color: #888; font-size: 10pt; font-family: 'Droid Sans Mono', 'Monospace', 'Liberation Mono', monospace; float: right; margin-top: 1em}
#contents .permalink {font-size: 10pt; float: right; margin-top: 1em}
#contents .permalink a {color: #888}
#contents .permalink a:after {color: #ccc; content: '|'}

td, th {text-align: right; border-right: solid 1px #ccc}

/* Generated by SDoc */

</style>
<link rel='alternate' href='feed.atom' type='application/atom+xml' title='Atom feed'/>
</head>
<body>
<div id='header' role='banner'>
<div><a href='http://twitter.com/spencertipping' aria-label='Twitter handle'>@spencertipping</a></div>
<div><a href='http://github.com/spencertipping' aria-label='Github profile'>github.com/spencertipping</a></div>
<div><a href='http://github.com/spencertipping/plain-blog'>Blog source</a></div>
<div><a href='http://spencertipping.com/zeroconsulting'>Zero-risk consulting</a></div>
<div><a href='http://spencertipping.com/feed.atom'>Atom feed</a></div>

<h3><label for='family'>Family</label></h3>
<ul id='family'>
<li><a href='http://joycetipping.com'>Joyce (my wife)</a></li>
<li><a href='http://adamtipping.com'>Adam (our son)</a></li>
</ul>

<h3><label for='projects'>Projects</label></h3>
<ul id='projects'>
<li><a href='http://github.com/spencertipping/cd'>cd</a></li>
<li><a href='http://github.com/spencertipping/perl-objects'>Self-modifying Perl</a></li>
<li><a href='http://github.com/spencertipping/flotsam'>Flotsam</a></li>
<li><a href='http://github.com/spencertipping/js-instabench'>Javascript Instabench</a></li>
<li><a href='http://spencertipping.com/cheloniidae'>Cheloniidae</a></li>
<li><a href='http://github.com/spencertipping/sdoc'>SDoc</a></li>
<li><a href='http://github.com/spencertipping/bash-prompt'>Bash prompt</a></li>
<li><a href='http://github.com/spencertipping/rather-insane-serialization'>Rather Insane Serialization</a></li>
<li><a href='http://github.com/spencertipping/infuse'>Infuse JS</a></li>
<li><a href='http://github.com/spencertipping/browserpower'>Browserpower</a></li>
<li><a href='http://github.com/spencertipping/perlquery'>Perlquery</a></li>
<li><a href='http://github.com/spencertipping/cheloniidae-live'>Cheloniidae Live</a></li>
</ul>

<h3><label for='moreprojects'>Misguided but fun</label></h3>
<ul id='moreprojects'>
<li><a href='http://github.com/spencertipping/canard'>Canard</a></li>
<li><a href='http://github.com/spencertipping/caterwaul'>Caterwaul JS</a></li>
<li><a href='http://github.com/spencertipping/bash-lambda'>Bash-lambda</a></li>
<li><a href='http://github.com/spencertipping/catastrophe'>Catastrophe</a></li>
<li><a href='http://github.com/spencertipping/mulholland'>Mulholland</a></li>
</ul>

<h3><label for='quizzes'>Web quizzes</label></h3>
<ul id='quizzes'>
<li><a href='http://spencertipping.com/pl-quiz.html'>Programming language quiz</a></li>
<li><a href='http://spencertipping.com/js-quiz.html'>Javascript quiz</a></li>
</ul>

<h3><label for='pdfs'>PDFs</label></h3>
<ul id='pdfs'>
<li><a href='http://github.com/spencertipping/js-in-ten-minutes'>Javascript in Ten Minutes</a></li>
<li><a href='http://github.com/spencertipping/writing-self-modifying-perl'>Writing Self-Modifying Perl</a></li>
<li><a href='http://github.com/spencertipping/git-in-ten-minutes'>Git in Ten Minutes</a></li>
<li><a href='http://caterwauljs.org/doc/caterwaul-by-example.pdf'>Caterwaul by Example</a></li>
<li><a href='http://caterwauljs.org/doc/caterwaul-reference-manual.pdf'>Caterwaul Reference Manual</a></li>
<li><a href='http://spencertipping.com/cheloniidae/cheloniidae.pdf'>Cheloniidae literate source</a></li>
<li><a href='http://spencertipping.com/mathbio2008/model.pdf'>MathBio model literate source</a></li>
</ul>

<h3><label for='jquery-modules'>jQuery modules</label></h3>
<ul id='jquery-modules'>
<li><a href='http://github.com/spencertipping/modus'>Modus (uses Caterwaul)</a></li>
<li><a href='http://github.com/spencertipping/jquery.instavalidate'>Instavalidate</a></li>
<li><a href='http://github.com/spencertipping/jquery.gaussian'>Gaussian blur</a></li>
<li><a href='http://github.com/spencertipping/jquery.fix.clone'>clone() patch</a></li>
</ul>

<h3><label for='caterwaul-modules'>Caterwaul modules</label></h3>
<ul id='caterwaul-modules'>
<li><a href='http://github.com/spencertipping/caterwaul-bloom'>Bloom filters</a></li>
<li><a href='http://github.com/spencertipping/caterwaul-struct'>C struct binary I/O</a></li>
<li><a href='http://github.com/spencertipping/caterwaul-heap'>Heap</a></li>
<li><a href='http://github.com/spencertipping/caterwaul-numeric'>Vector math</a></li>
<li><a href='http://github.com/spencertipping/caterwaul-serialization'>Reference-safe serialization</a></li>
<li><a href='http://github.com/spencertipping/caterwaul-regexp'>Regular expression parser</a></li>
<li><a href='http://github.com/spencertipping/caterwaul-parser'>Nonlinear parser combinators</a></li>
<li><a href='http://github.com/spencertipping/caterwaul-invariant'>Invariant state propagation</a></li>
<li><a href='http://github.com/spencertipping/caterwaul-futures'>Future monad</a></li>
<li><a href='http://github.com/spencertipping/caterwaul-factory'>Value production combinators</a></li>
<li><a href='http://github.com/spencertipping/caterwaul-jquery-node'>Headless jQuery renderer</a></li>
</ul>

<h3><label for='college-projects'>College projects</label></h3>
<ul id='college-projects'>
<li><a href='http://github.com/spencertipping/mathbio2008'>MathBio summer research (2008)</a></li>
<li><a href='http://github.com/spencertipping/mcm2007'>MAA Mathematical contest in modeling (2007)</a></li>
</ul>

<h3><label for='questionable-ideas'>Questionable Ideas</label></h3>
<ul id='questionable-ideas'>
<li><a href='http://github.com/spencertipping/cpp-template-lisp'>Lisp in C++ templates</a></li>
<li><a href='http://github.com/spencertipping/caterwaul-ext4'>Caterwaul ext4 filesystem driver</a></li>
<li><a href='http://github.com/spencertipping/caterwaul-ruby'>Caterwaul Ruby syntax module</a></li>
<li><a href='http://github.com/spencertipping/caterwaul-terminal'>Caterwaul ANSI terminal module</a></li>
<li><a href='http://github.com/spencertipping/caterwaul-reflection'>Caterwaul deep reflection module</a></li>
<li><a href='http://github.com/spencertipping/caterwaul.hlasm'>Caterwaul 0.x high-level assembler</a></li>
<li><a href='http://github.com/spencertipping/caterwaul.llasm'>Caterwaul 0.x low-level assembler</a></li>
<li><a href='http://github.com/spencertipping/rift'>Rift Ruby VM</a></li>
<li><a href='http://github.com/spencertipping/delimited-continuations-in-scheme'>Delimited continuations in Scheme</a></li>
<li><a href='http://github.com/spencertipping/instaserver'>Instaserver</a></li>
<li><a href='http://github.com/spencertipping/havoc'>Havoc programming language</a></li>
<li><a href='http://github.com/spencertipping/node-runabuf'>node.js run-a-buf</a></li>
<li><a href='http://github.com/spencertipping/js-typeclasses'>Javascript dynamic typeclasses</a></li>
</ul>

<h3><label for='epic-failures'>Epic Failures</label></h3>
<ul id='epic-failures'>
<li><a href='http://github.com/spencertipping/caterwaul-hijack'>Caterwaul parser hijack module</a></li>
<li><a href='http://github.com/spencertipping/caterwaul-c'>Caterwaul C syntax module</a></li>
<li><a href='http://github.com/spencertipping/divergence'>Divergence</a></li>
<li><a href='http://github.com/spencertipping/divergence.rebase'>Divergence Rebase</a></li>
<li><a href='http://github.com/spencertipping/gnarly'>Gnarly programming language</a></li>
<li><a href='http://github.com/spencertipping/figment'>Figment programming language</a></li>
<li><a href='http://github.com/spencertipping/montenegro'>Montenegro</a></li>
</ul>

<!-- Generated by SDoc -->

</div>

<div id='contents' role='main'>
<div id='post-2013.0327-why-caterwaul-sucks'>
  <span class='date'>2013.0327</span>
  <span class='permalink'><a href='/posts/2013.0327.why-caterwaul-sucks.html'>permalink</a></span>
  <div class='section level1'>
  <h1>Why Caterwaul sucks</h1>
  <p>In case you haven't heard of <a href='http://caterwauljs.org'>Caterwaul</a>
(you probably haven't), it's an experimental programming language I wrote that
does some very awesome stuff. I've used it productively for over three years to
write all kinds of different apps in a fraction of the time it would have
taken in vanilla JS. Over these three years I've also written about two dozen
extension modules for it, doing everything from the <a
href='http://github.com/spencertipping/caterwaul-parser'>useful</a> to the <a
href='http://github.com/spencertipping/caterwaul-ext4'>laughably misguided</a>.
This post is about the changes in mindset I've gone through since starting the
project.</p>
  <p>Caterwaul, like <a
href='http://github.com/spencertipping/perl-objects'>many</a> <a
href='http://github.com/spencertipping/canard'>other</a> <a
href='http://github.com/spencertipping/divergence'>bad</a> <a
href='http://github.com/spencertipping/gnarly'>ideas</a>, began as an
opportunistic hack. What made Caterwaul different and interesting was that it
was actually useful: it worked for my honeymoon-stage Lisp Enlightenment and
gave me a way to write tools to enable better web UI development, which at the
time I wanted to start a business around. It was wonderful, really. I built
libraries like <a href='http://github.com/spencertipping/modus'>Modus</a> that
made working with the DOM as simple as getting and setting a jQuery
<code>val</code>, and generating HTML as simple as writing quasi-HAML inside
Javascript and returning the results from functions.</p>
  <p>This was pre-Google, so I hadn't really worked with large-scale software
before. In particular, I was used to the economies of startups, where
reliability was a luxury that cost too much to be taken that seriously. Armed
with that mentality and a dangerous amount of hubris, I set out to write things
like Caterwaul with two goals. First, it must be awesome. Like, "that shouldn't
be possible" awesome, stuff like introspective, self-replicating compilers that
can drop live references from the compiling environment into the code. And
defer parsing for certain chunks of stuff. Caterwaul is full of things like
this, not because it was useful but because it seemed just barely possible.</p>
  <p>Second, it must be useful to me. I didn't really care whether it was useful to
anyone else because I was, at that point, waging a personal war against the
widespread blub influence, compatibility with the unwashed masses be damned.
There is some merit to this mode of thinking, but it isn't self-justifying like
I thought it was. (More on this later.)</p>
  <p>So that's where Caterwaul came from, and that's why it looks weird, emits only
one error message that you will probably never encounter, fails through for
dozens that you probably will, and is written in 192-column-wrapped Javascript
squeezed onto as few lines as humanly possible. It's also why Caterwaul uses a
horrendously hacked operator precedence parser to parse the entirety of the
Javascript language. (To this day I'm still proud that I managed to get that
code to work.)</p>
  <p>That, from my perspective, is the somewhat obscure technological foundation
from which Caterwaul arose. More interesting, I think, is the non-technical
perspective of anyone faced with using Caterwaul in real life.</p>
  <p>I've tried to come up with an analogy that conveys what I consider to be
Caterwaul's main problem, and here's the best one I can think of so far. A
product-eng meeting is about to start when one of the engineers arrives wearing
no clothes. Suppose we look at the state of mind in the fraction of a second
before anything is said.</p>
  <p>Most of the people in the room are thinking variations of "tasteless,"
"offensive," "lawsuit," and "let's hope this doesn't make it to the press." The
engineer is thinking, "I've never understood why the human form is so
offensive. It's a precise, powerful machine whose engineering is second to
none. And these people have forgotten what true engineering is. Besides,
clothing impedes performance."</p>
  <p>The modes of failure in this scenario aren't factual in nature. Nobody needs to
be incorrect for everyone to be offended. And I personally think that from a
rationalist perspective my fictional engineer makes a reasonable point, but
what's really relevant is how it fits into the surrounding context.</p>
  <p>Put differently, being iconoclastic isn't a crime or a sign of immaturity. But
being reflexively iconoclastic certainly is.</p>
  <p>My mistake wasn't writing Caterwaul. The reason Caterwaul sucks so much is that
I thought it was something other people could use. It's a great piece of wall
art, an ambitious venture into uncharted territory, and maybe a good read, but
ultimately unfit for production.</p>
  <p>I write software differently now. About a week ago I started <a
href='http://github.com/spencertipping/infuse-js'>Infuse</a>, a library that
takes the best ideas from Caterwaul and reframes them in Javascript idioms.
This doesn't mean I'm giving up quixotic crusades towards impossible goals (you
can take my self-modifying Perl when you pry it out of my cold dead hands).
It's the opposite: some of the most real problems programmers face have to do
with human, not computer, communication. <em>Those</em> are the problems that
demand the most interesting and creative solutions, and that's what I've
resolved to start focusing on.</p>
  <p>That, and wearing clothes to meetings. Gotta start doing that.
</p>
</div>
</div>

</div>
</body>
</html>
